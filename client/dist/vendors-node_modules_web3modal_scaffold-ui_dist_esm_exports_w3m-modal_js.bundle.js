"use strict";
(self["webpackChunkclient"] = self["webpackChunkclient"] || []).push([["vendors-node_modules_web3modal_scaffold-ui_dist_esm_exports_w3m-modal_js"],{

/***/ "./node_modules/@web3modal/scaffold-ui/dist/esm/exports/w3m-modal.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@web3modal/scaffold-ui/dist/esm/exports/w3m-modal.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W3mModal: () => (/* reexport safe */ _src_modal_w3m_modal_index_js__WEBPACK_IMPORTED_MODULE_0__.W3mModal)
/* harmony export */ });
/* harmony import */ var _src_modal_w3m_modal_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../src/modal/w3m-modal/index.js */ "./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/index.js");

//# sourceMappingURL=w3m-modal.js.map

/***/ }),

/***/ "./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/index.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/index.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   W3mModal: () => (/* binding */ W3mModal)
/* harmony export */ });
/* harmony import */ var _web3modal_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @web3modal/core */ "./node_modules/@web3modal/core/dist/esm/index.js");
/* harmony import */ var _web3modal_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @web3modal/ui */ "./node_modules/@web3modal/ui/dist/esm/index.js");
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");
/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit/decorators.js */ "./node_modules/lit/decorators.js");
/* harmony import */ var _styles_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles.js */ "./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/styles.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





const SCROLL_LOCK = 'scroll-lock';
let W3mModal = class W3mModal extends lit__WEBPACK_IMPORTED_MODULE_2__.LitElement {
    constructor() {
        super();
        this.unsubscribe = [];
        this.abortController = undefined;
        this.open = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.state.open;
        this.caipAddress = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.AccountController.state.caipAddress;
        this.isSiweEnabled = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.OptionsController.state.isSiweEnabled;
        this.connected = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.AccountController.state.isConnected;
        this.loading = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.state.loading;
        this.shake = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.state.shake;
        this.initializeTheming();
        _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ApiController.prefetch();
        this.unsubscribe.push(...[
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.subscribeKey('open', val => (val ? this.onOpen() : this.onClose())),
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.subscribeKey('shake', val => (this.shake = val)),
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.subscribeKey('loading', val => {
                this.loading = val;
                this.onNewAddress(_web3modal_core__WEBPACK_IMPORTED_MODULE_0__.AccountController.state.caipAddress);
            }),
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.AccountController.subscribeKey('isConnected', val => (this.connected = val)),
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.AccountController.subscribeKey('caipAddress', val => this.onNewAddress(val)),
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.OptionsController.subscribeKey('isSiweEnabled', val => (this.isSiweEnabled = val))
        ]);
        _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.EventsController.sendEvent({ type: 'track', event: 'MODAL_LOADED' });
    }
    disconnectedCallback() {
        this.unsubscribe.forEach(unsubscribe => unsubscribe());
        this.onRemoveKeyboardListener();
    }
    render() {
        return this.open
            ? (0,lit__WEBPACK_IMPORTED_MODULE_2__.html) `
          <wui-flex @click=${this.onOverlayClick.bind(this)}>
            <wui-card shake="${this.shake}" role="alertdialog" aria-modal="true" tabindex="0">
              <w3m-header></w3m-header>
              <w3m-router></w3m-router>
              <w3m-snackbar></w3m-snackbar>
            </wui-card>
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `
            : null;
    }
    async onOverlayClick(event) {
        if (event.target === event.currentTarget) {
            await this.handleClose();
        }
    }
    async handleClose() {
        const isSiweSignScreen = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'ConnectingSiwe';
        const isApproveSignScreen = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.RouterController.state.view === 'ApproveTransaction';
        if (this.isSiweEnabled) {
            const { SIWEController } = await __webpack_require__.e(/*! import() */ "vendors-node_modules_web3modal_siwe_dist_esm_exports_index_js").then(__webpack_require__.bind(__webpack_require__, /*! @web3modal/siwe */ "./node_modules/@web3modal/siwe/dist/esm/exports/index.js"));
            const isUnauthenticated = SIWEController.state.status !== 'success';
            if (isUnauthenticated && (isSiweSignScreen || isApproveSignScreen)) {
                _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.shake();
            }
            else {
                _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.close();
            }
        }
        else {
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.close();
        }
    }
    initializeTheming() {
        const { themeVariables, themeMode } = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ThemeController.state;
        const defaultThemeMode = _web3modal_ui__WEBPACK_IMPORTED_MODULE_1__.UiHelperUtil.getColorTheme(themeMode);
        (0,_web3modal_ui__WEBPACK_IMPORTED_MODULE_1__.initializeTheming)(themeVariables, defaultThemeMode);
    }
    onClose() {
        this.open = false;
        this.classList.remove('open');
        this.onScrollUnlock();
        _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.SnackController.hide();
        this.onRemoveKeyboardListener();
    }
    onOpen() {
        this.open = true;
        this.classList.add('open');
        this.onScrollLock();
        this.onAddKeyboardListener();
    }
    onScrollLock() {
        const styleTag = document.createElement('style');
        styleTag.dataset['w3m'] = SCROLL_LOCK;
        styleTag.textContent = `
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `;
        document.head.appendChild(styleTag);
    }
    onScrollUnlock() {
        const styleTag = document.head.querySelector(`style[data-w3m="${SCROLL_LOCK}"]`);
        if (styleTag) {
            styleTag.remove();
        }
    }
    onAddKeyboardListener() {
        this.abortController = new AbortController();
        const card = this.shadowRoot?.querySelector('wui-card');
        card?.focus();
        window.addEventListener('keydown', event => {
            if (event.key === 'Escape') {
                this.handleClose();
            }
            else if (event.key === 'Tab') {
                const { tagName } = event.target;
                if (tagName && !tagName.includes('W3M-') && !tagName.includes('WUI-')) {
                    card?.focus();
                }
            }
        }, this.abortController);
    }
    onRemoveKeyboardListener() {
        this.abortController?.abort();
        this.abortController = undefined;
    }
    async onNewAddress(caipAddress) {
        if (!this.connected || this.loading) {
            return;
        }
        const previousAddress = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getPlainAddress(this.caipAddress);
        const newAddress = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getPlainAddress(caipAddress);
        const previousNetworkId = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getNetworkId(this.caipAddress);
        const newNetworkId = _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.CoreHelperUtil.getNetworkId(caipAddress);
        this.caipAddress = caipAddress;
        if (this.isSiweEnabled) {
            const { SIWEController } = await __webpack_require__.e(/*! import() */ "vendors-node_modules_web3modal_siwe_dist_esm_exports_index_js").then(__webpack_require__.bind(__webpack_require__, /*! @web3modal/siwe */ "./node_modules/@web3modal/siwe/dist/esm/exports/index.js"));
            const session = await SIWEController.getSession();
            if (session && previousAddress && newAddress && previousAddress !== newAddress) {
                if (SIWEController.state._client?.options.signOutOnAccountChange) {
                    await SIWEController.signOut();
                    this.onSiweNavigation();
                }
                return;
            }
            if (session && previousNetworkId && newNetworkId && previousNetworkId !== newNetworkId) {
                if (SIWEController.state._client?.options.signOutOnNetworkChange) {
                    await SIWEController.signOut();
                    this.onSiweNavigation();
                }
                return;
            }
            this.onSiweNavigation();
        }
    }
    onSiweNavigation() {
        if (this.open) {
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.RouterController.push('ConnectingSiwe');
        }
        else {
            _web3modal_core__WEBPACK_IMPORTED_MODULE_0__.ModalController.open({
                view: 'ConnectingSiwe'
            });
        }
    }
};
W3mModal.styles = _styles_js__WEBPACK_IMPORTED_MODULE_4__["default"];
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "open", void 0);
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "caipAddress", void 0);
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "isSiweEnabled", void 0);
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "connected", void 0);
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "loading", void 0);
__decorate([
    (0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_3__.state)()
], W3mModal.prototype, "shake", void 0);
W3mModal = __decorate([
    (0,_web3modal_ui__WEBPACK_IMPORTED_MODULE_1__.customElement)('w3m-modal')
], W3mModal);

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/styles.js":
/*!************************************************************************************!*\
  !*** ./node_modules/@web3modal/scaffold-ui/dist/esm/src/modal/w3m-modal/styles.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ "./node_modules/lit/index.js");

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,lit__WEBPACK_IMPORTED_MODULE_0__.css) `
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`);
//# sourceMappingURL=styles.js.map

/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_web3modal_scaffold-ui_dist_esm_exports_w3m-modal_js.bundle.js.map